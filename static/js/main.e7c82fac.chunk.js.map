{"version":3,"sources":["images/game/карта.png","store/stores.js","store/reducers.js","components/menu.js","store/actions.js","components/map.js","index.js"],"names":["module","exports","__webpack_require__","p","storeMap","createStore","state","arguments","length","undefined","initialState_Map","Menu","react_default","a","createElement","menu_MenuButtons","menu_MenuGame","Component","MenuButtons","className","type","id","onInput","menu_SpeedRange","MenuButton","image","OnClick","alert","style","width","textAlign","menu_InfoButton","menu_TankInfo","props","onClick","src","alt","InfoButton","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","isOpen","_this2","setState","lib_default","onRequestClose","Info","TankInfo","SpeedRange","MenuGame","GameTable","indexRow","rows","slice","gunner","driver","charger","pop","concat","_this3","arr","_loop","i","push","menu_GameTableRow","index","value","onClickTD_LMB","handleClickTD_LMB","onClickTD_RMB","handleClickTD_RMB","renderRows","GameTableRow","connect","putStateToProps_Code","putActionsToProps_Code","_this4","_this5","GameTableCell","onContextMenu","e","preventDefault","gunnerBtnsCount","driverBtnsCount","GameButtonsTable","_this$props","gunnerSelectedIndex","driverSelectedIndex","chargerSelectedIndex","changeSelectedButton","_loop2","GameButton","class","selected","_loop3","_loop4","height","renderButtons","key","getGameButtonImage","backgroundImage","backgroundPosition","left","actionTypes","reduceHP","j","payload","loadMap","text","xmlDoc","outArr","window","DOMParser","parseFromString","getElementsByTagName","console","log","tiles","outArrRow","obj","childNodes","getmapTile","tileNames","empty","nodeValue","mountains","swamp","_3hp","_2hp","_1hp","tanks","getAttribute","tank","DOMException","map","addPictureInTD","toLowerCase","tag","dispatch","bindActionCreators","Map","es","store","WrappedMapTable","MapTable","row","MapTile","marginTop","marginLeft","renderTable","onClickCapture","Game","components_map","menu","ReactDOM","render","src_Game","document","getElementById"],"mappings":"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","file":"static/js/main.e7c82fac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/карта.a649f862.png\";","import {createStore} from \"redux\";\r\n//import {actionTypes} from \"./actions.js\";\r\nimport {mapReducer} from \"./reducers.js\"\r\n\r\nconst actionTypes={\r\n    REDUCE_HP: \"REDUCE_HP\",\r\n    LOAD_MAP: \"LOAD_MAP\",\r\n    CHANGE_SELECTED_BUTTON: \"LOAD_MAP\",\r\n    ADD_PICTURE_IN_TD: \"ADD_PICTURE_IN_TD\"\r\n};\r\n\r\nexport const storeMap = createStore(mapReducer);\r\n//export const storeCode = createStore(codeReducer);\r\n\r\nconst codeReducer = (state , action) =>{\r\n\r\n    return state;\r\n    switch (action.type) {\r\n        case actionTypes.CHANGE_SELECTED_BUTTON:\r\n        {\r\n            return {...state,\r\n                gunnerSelectedIndex: action.payload.gunnerSelectedIndex,\r\n                driverSelectedIndex: action.payload.driverSelectedIndex,\r\n                chargerSelectedIndex: action.payload.chargerSelectedIndex,\r\n            }\r\n        }\r\n        case actionTypes.ADD_PICTURE_IN_TD:\r\n        {\r\n            return {...state, rows:action.payload.rows}\r\n        }\r\n    }\r\n\r\n    return state\r\n};","import {bindActionCreators} from 'redux'\r\nimport { reduceHP, loadMap, changeSelectedButton, addPictureInTD} from './actions.js'\r\n\r\nconst actionTypes={\r\n    REDUCE_HP: \"REDUCE_HP\",\r\n    LOAD_MAP: \"LOAD_MAP\",\r\n    CHANGE_SELECTED_BUTTON: \"LOAD_MAP\",\r\n    ADD_PICTURE_IN_TD: \"ADD_PICTURE_IN_TD\"\r\n};\r\n\r\nexport const tileNames = {\r\n    mountains: \"mountains\",\r\n    swamp: \"swamp\",\r\n    tank: \"tank\",\r\n    _3hp: \"3hp\",\r\n    _2hp: \"2hp\",\r\n    _1hp: \"1hp\",\r\n    empty: \"empty\",\r\n};\r\n\r\nexport function getmapTile(type) {\r\n    switch (type.toLowerCase()) {\r\n        case tileNames.mountains:\r\n            return(\r\n                {\r\n                    tag: \"mountains\",\r\n                    backgroundImage: \"url('../images/game/gametiles.svg')\",\r\n                    backgroundPosition: \"-50px 0px\",\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 50,}\r\n            );\r\n        case tileNames.swamp:\r\n            return(\r\n                {\r\n                    tag: \"swamp\",\r\n                    backgroundImage: \"url('../images/game/gametiles.svg')\",\r\n                    backgroundPosition: \"-100px 0px\",\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 50,}\r\n            );\r\n        case tileNames.tank:\r\n            return(\r\n                {\r\n                    tag: \"tank\",\r\n                    backgroundImage: \"url('../images/game/gametiles.svg')\",\r\n                    backgroundPosition: \"-150px 0px\",\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 50,}\r\n            );\r\n        case tileNames._3hp:\r\n            return(\r\n                {\r\n                    tag: \"3hp\",\r\n                    backgroundImage: \"url('../images/game/gametiles.svg')\",\r\n                    backgroundPosition: \"0px -50px\",\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 50,}\r\n            );\r\n        case tileNames._2hp:\r\n            return(\r\n                {\r\n                    tag: \"2hp\",\r\n                    backgroundImage: \"url('../images/game/gametiles.svg')\",\r\n                    backgroundPosition: \"-50px -50px\",\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 50,}\r\n            );\r\n        case tileNames._1hp:\r\n            return(\r\n                {\r\n                    tag: \"1hp\",\r\n                    backgroundImage: \"url('../images/game/gametiles.svg')\",\r\n                    backgroundPosition: \"-100px -50px\",\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 50,}\r\n            );\r\n        default:\r\n            return(\r\n                {\r\n                    tag: \"empty\",\r\n                    backgroundImage: \"url('../images/game/gametiles.svg')\",\r\n                    backgroundPosition: \"0px 0px\",\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 50,}\r\n            );\r\n    }\r\n}\r\n\r\nconst initialState_Map = {\r\n    map:[\r\n        [\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.mountains),\r\n            getmapTile(tileNames.mountains),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.tank)\r\n        ],\r\n        [\r\n            getmapTile(tileNames._1hp),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.mountains),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.empty)\r\n        ],\r\n        [\r\n            getmapTile(tileNames._3hp),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.swamp),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.empty)\r\n        ],\r\n        [\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.mountains),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.empty)\r\n        ],\r\n        [\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames.mountains),\r\n            getmapTile(tileNames.empty),\r\n            getmapTile(tileNames._2hp),\r\n            getmapTile(tileNames.empty)\r\n        ]\r\n    ]\r\n};\r\n\r\nexport function mapReducer (state = initialState_Map, action) {\r\n    return state;\r\n    switch (action.type) {\r\n        case actionTypes.REDUCE_HP: {\r\n            let mapArr = state.map.slice();\r\n            let {i,j} = action.payload;\r\n            console.log(`${i} ${j}`);\r\n            let img = mapArr[i][j];\r\n\r\n            switch (img.tag) {\r\n                case tileNames._3hp:\r\n                    mapArr[i][j] = getmapTile(tileNames._2hp);\r\n                    return {...state, map: mapArr};\r\n\r\n                case tileNames._2hp:\r\n                    mapArr[i][j] = getmapTile(tileNames._1hp);\r\n                    return {...state, map: mapArr};\r\n\r\n                case tileNames._1hp:\r\n                    mapArr[i][j] = getmapTile(tileNames.empty);\r\n                    return {...state, map: mapArr};\r\n            }\r\n            return state\r\n        }\r\n        case actionTypes.LOAD_MAP:{\r\n            if (action.payload.map !== null)\r\n            {\r\n                return {...state, map: action.payload.map}\r\n            }\r\n            return state\r\n        }\r\n    }\r\n    return state\r\n};\r\n\r\nexport const putStateToProps_Map = (state) =>{\r\n    return {\r\n        map: state.map,\r\n    }\r\n};\r\n\r\nexport const putActionsToProps_Map = (dispatch) => {\r\n    return {\r\n        reduceHP: bindActionCreators(reduceHP, dispatch),\r\n        loadMap: bindActionCreators(loadMap, dispatch)\r\n    }\r\n};\r\n\r\n//-----------------------------------------------------------\r\n\r\nconst initialState_Code ={\r\n    gunnerSelectedIndex: 0,\r\n    driverSelectedIndex: 0,\r\n    chargerSelectedIndex: 0,\r\n    rows: [{\r\n        gunner: null,\r\n        driver: null,\r\n        charger: null\r\n    }]\r\n};\r\n\r\nexport const codeReducer = (state = initialState_Code , action) =>{\r\n    switch (action.type) {\r\n        case actionTypes.CHANGE_SELECTED_BUTTON:\r\n        {\r\n            return {...state,\r\n                gunnerSelectedIndex: action.payload.gunnerSelectedIndex,\r\n                driverSelectedIndex: action.payload.driverSelectedIndex,\r\n                chargerSelectedIndex: action.payload.chargerSelectedIndex,\r\n            }\r\n        }\r\n        case actionTypes.ADD_PICTURE_IN_TD:\r\n        {\r\n            return {...state, rows:action.payload.rows}\r\n        }\r\n    }\r\n\r\n    return state\r\n};\r\n\r\nexport const putStateToProps_Code = (state) =>{\r\n    return {\r\n        gunnerSelectedIndex: state.gunnerSelectedIndex,\r\n        driverSelectedIndex: state.driverSelectedIndex,\r\n        chargerSelectedIndex: state.chargerSelectedIndex,\r\n        rows: state.rows,\r\n    }\r\n};\r\n\r\nexport const putActionsToProps_Code = (dispatch) => {\r\n    return {\r\n        changeSelectedButton: bindActionCreators(changeSelectedButton, dispatch),\r\n        addPictureInTD: bindActionCreators(addPictureInTD, dispatch)\r\n    }\r\n};\r\n\r\n\r\n\r\n","import ReactModal from \"react-modal\";\r\nimport React, {Component} from \"react\";\r\nimport { connect, Provider } from 'react-redux'\r\nimport {putActionsToProps_Code, putStateToProps_Code} from \"../store/reducers.js\";\r\nimport {storeCode} from '../store/stores.js'\r\n\r\nclass Menu extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <MenuButtons />\r\n                <MenuGame />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MenuButtons extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"flex-row margin-5\">\r\n                <div className=\"flex-column flex-justify-start widthAll\">\r\n                    <div className=\"flex-column\">\r\n                        <span>Скорость воспроизведения</span>\r\n                        <div>/*\r\n                            <input type=\"range\" id=\"speedInput\"\r\n                                   onInput=\"document.getElementById('speedVal').innerText = document.getElementById('speedInput').value\" />\r\n                            <span id=\"speedVal\">50</span>*/\r\n                        </div>\r\n                        <SpeedRange />\r\n                    </div>\r\n                    <div id=\"moveBtnDiv\" className=\"flex-row\">\r\n                        <div className=\"flex-row\">\r\n                            <MenuButton image=\"images/menu/startbtn.svg\" OnClick={() => alert('1')} />\r\n                            <MenuButton image=\"images/menu/pausebtn.svg\" OnClick={() =>alert('2')} />\r\n                            <MenuButton image=\"images/menu/stopbtn.svg\" OnClick={() =>alert('3')} />\r\n                            <MenuButton image=\"images/menu/skipbtn.svg\" OnClick={() =>alert('4')} />\r\n                            <MenuButton image=\"images/menu/nextstepbtn.svg\" OnClick={() =>alert('5')} />\r\n                        </div>\r\n                        <div style={{width: 50}}> </div>\r\n                        <div className=\"flex-row\">\r\n                            <MenuButton image=\"images/menu/savebtn.svg\" OnClick={() => alert('6')} />\r\n                            <MenuButton image=\"images/menu/loadbtn.svg\" OnClick={() => alert('7')} />\r\n                        </div>\r\n                        <MenuButton image=\"\" OnClick={() => alert('8')} />\r\n                    </div>\r\n                    <div style={{textAlign: 'right'}} >\r\n                        <span>Дальность стрельбы: </span>\r\n                        <span>10</span>\r\n                    </div>\r\n                    <div id=\"saveBtnDiv\">\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-column flex-justify-evenly\">\r\n                    <InfoButton />\r\n                    <TankInfo />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction MenuButton(props) {\r\n    return (\r\n        <button\r\n            onClick={props.OnClick}\r\n        >\r\n            <img src={props.image} alt=\"\" />\r\n        </button>\r\n    )\r\n}\r\n\r\nclass InfoButton extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            isOpen: false\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <button id=\"infoButton\" className=\"flex-row\" onClick={() => this.setState({isOpen: true})}>\r\n                    <span>INFO</span>\r\n                    <img src=\"../images/menu/infobtn.svg\" alt=\"\"/>\r\n                </button>\r\n                <ReactModal isOpen={this.state.isOpen} onRequestClose={() => this.setState({isOpen: false})} >\r\n                    <Info onClick={() => this.setState({isOpen: false})} />\r\n                </ReactModal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction Info(props){\r\n    return(\r\n        <div>\r\n            <button onClick={() => props.OnClick}>Закрыть</button>\r\n            /*TODO*/\r\n        </div>\r\n    )\r\n}\r\n\r\nclass TankInfo extends Component {\r\n    render()\r\n    {\r\n        return (\r\n            <div id=\"tankDiv\">\r\n                <img src=\"../images/game/tank.png\" alt=\"\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass SpeedRange extends Component{\r\n    render() {\r\n        return (\r\n            <div>\r\n                /*TODO*/\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// ========================================\r\n\r\nclass MenuGame extends Component {\r\n    render() {\r\n        return (\r\n            <div  className=\"flex-row flex-align-start \">\r\n                <div id=\"commandsDiv\" className=\"overflow overflow-y-visible margin-10\">\r\n                    {/*<Provider store={storeCode}>*/}\r\n                        {/*<WrappedGameTable />*/}\r\n                    {/*</Provider>*/}\r\n                </div>\r\n                <div >\r\n                    {/*<Provider store={storeCode}>*/}\r\n                        {/*<WrappedGameButtonsTable />*/}\r\n                    {/*</Provider>*/}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass GameTable extends Component{\r\n    handleClickTD_LMB(className , indexRow ){\r\n\r\n    }\r\n\r\n    handleClickTD_RMB(className , indexRow ){\r\n        let rows = this.state.rows.slice();\r\n\r\n        rows[indexRow]={\r\n            gunner: className === \"gunner\" ? null : rows[indexRow].gunner,\r\n            driver: className === \"driver\" ? null : rows[indexRow].driver,\r\n            charger: className === \"charger\" ? null : rows[indexRow].charger\r\n        };\r\n\r\n        while (rows.length !== 0 &&\r\n        rows[rows.length-1].gunner == null &&\r\n        rows[rows.length-1].driver == null &&\r\n        rows[rows.length-1].charger == null)\r\n        {\r\n            rows.pop();\r\n        }\r\n        rows = rows.concat([\r\n            {\r\n                gunner: null,\r\n                driver: null,\r\n                charger: null\r\n            }]);\r\n\r\n        this.setState({\r\n            rows: rows\r\n        });\r\n    }\r\n\r\n\r\n    renderRows(){\r\n        let arr=[];\r\n        const {rows} = this.props;\r\n        for(let i = 0; i < rows.length; i++){\r\n            arr.push(\r\n                <GameTableRow\r\n                    index={i}\r\n                    value={rows[i]}\r\n                    onClickTD_LMB={(className) => this.handleClickTD_LMB(className, i)}\r\n                    onClickTD_RMB={(className) => this.handleClickTD_RMB(className, i)}\r\n                />\r\n            )\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <table id=\"commands\">\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th>Наводчик</th>\r\n                    <th>Водитель</th>\r\n                    <th>Заряжающий</th>\r\n                </tr>\r\n                {this.renderRows()}\r\n            </table>\r\n        )\r\n    }\r\n}\r\n\r\nconst WrappedGameTable = connect(putStateToProps_Code, putActionsToProps_Code)(GameTable);\r\n\r\nclass GameTableRow extends Component{\r\n    index = 0;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.index = props.index;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td style={{width: 20}} >{this.index+1}</td>\r\n                <GameTableCell\r\n                    value={this.props.value.gunner}\r\n                    onClickTD_LMB={() => this.props.onClickTD_LMB(\"gunner\")}\r\n                    onClickTD_RMB={() => this.props.onClickTD_RMB(\"gunner\")}\r\n                />\r\n                <GameTableCell\r\n                    value={this.props.value.driver}\r\n                    onClickTD_LMB={() => this.props.onClickTD_LMB(\"driver\")}\r\n                    onClickTD_RMB={() => this.props.onClickTD_RMB(\"driver\")}\r\n                />\r\n                <GameTableCell\r\n                    value={this.props.value.charger}\r\n                    onClickTD_LMB={() => this.props.onClickTD_LMB(\"charger\")}\r\n                    onClickTD_RMB={() => this.props.onClickTD_RMB(\"charger\")}\r\n                />\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nfunction GameTableCell(props) {\r\n    return (\r\n        <td className=\"gameTD\" onClick={() => props.onClickTD_LMB()} onContextMenu={(e) => {e.preventDefault(); props.onClickTD_RMB()} }>\r\n            <div style={props.value} />\r\n        </td>\r\n    );\r\n}\r\n\r\n//codeReducer\r\n// ========================================\r\n\r\nconst gunnerBtnsCount =8;\r\nconst driverBtnsCount =11;\r\nconst chargerBtnsCount =2;\r\n\r\nclass GameButtonsTable extends Component{\r\n    renderButtons(className) {\r\n        let arr = [];\r\n\r\n        const {gunnerSelectedIndex,driverSelectedIndex,chargerSelectedIndex,\r\n                changeSelectedButton} = this.props;\r\n\r\n        switch (className) {\r\n            case \"gunner\": {\r\n                for (let i = 0; i < gunnerBtnsCount; i++) {\r\n                    arr.push(\r\n                        <GameButton index={i} class={className} selected={gunnerSelectedIndex === i}\r\n                                    onClick={() => changeSelectedButton(i, className)}/>\r\n                    );\r\n                }\r\n                break;\r\n            }\r\n            case \"driver\":{\r\n                for (let i = 0; i < driverBtnsCount; i++) {\r\n                    arr.push(\r\n                        <GameButton index={i} class={className} selected={driverSelectedIndex === i}\r\n                                    onClick={() => changeSelectedButton(i, className)}/>\r\n                    );\r\n                }\r\n                break;\r\n            }\r\n            case \"charger\":{\r\n                for (let i = 0; i < chargerBtnsCount; i++) {\r\n                    arr.push(\r\n                        <GameButton index={i} class={className} selected={chargerSelectedIndex === i}\r\n                                    onClick={() => changeSelectedButton(i, className)}/>\r\n                    );\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"flex-row flex-align-start overflow\">\r\n                <div className=\"flex-column\">\r\n                    <div style={{height: 20}} className=\"padding-5\">Наводчик</div>\r\n                    <div className=\"gameButtonsColumn flex-row flex-wrap\">\r\n                        {this.renderButtons(\"gunner\")}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-column\">\r\n                    <div style={{height: 20}} className=\"padding-5\">Водитель</div>\r\n                    <div className=\"gameButtonsColumn flex-row flex-wrap\">\r\n                        {this.renderButtons(\"driver\")}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-column\">\r\n                    <div style={{height: 20, }} className=\"padding-5\">Заряжающий</div>\r\n                    <div className=\"gameButtonsColumn flex-row flex-wrap\">\r\n                        {this.renderButtons(\"charger\")}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst WrappedGameButtonsTable = connect(putStateToProps_Code, putActionsToProps_Code)(GameButtonsTable);\r\n\r\nfunction GameButton(props) {\r\n    return (\r\n        <button key={`${props.class} - ${props.index}`}\r\n                className={props.class + (props.selected? \" selected\":\"\") + \" margin-1\"}\r\n                style={getGameButtonImage(props.class, props.index)}\r\n                onClick={props.onClick}/>\r\n    )\r\n}\r\n\r\nexport function getGameButtonImage(className, index) {\r\n    return [\r\n        //-----------------Gunner----------------------\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"0px 0px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-50px 0px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-100px 0px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"0px -50px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-50px -50px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-100px -50px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"0px -100px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-100px -100px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        //---------------Driver------------\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"0px -150px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-50px -150px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-100px -150px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"0px -200px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-50px -200px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-100px -200px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-50px -100px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-150px 0px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-200px 0px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-150px -50px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-200px -50px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        //-----------------Charger--------------\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-150px -100px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n        {\r\n            backgroundImage: \"url('../images/game/actionbtns.svg')\",\r\n            backgroundPosition: \"-200px -100px\",\r\n            left: 0,\r\n            height: 50,\r\n            width: 50,},\r\n    ][index + (className === \"driver\" ? gunnerBtnsCount : 0) + ( className === \"charger\" ? gunnerBtnsCount + driverBtnsCount : 0 )]\r\n}\r\n\r\n\r\nexport default Menu\r\n","import {tileNames, getmapTile} from './reducers.js'\r\n//import {storeCode} from './stores.js'\r\nimport {getGameButtonImage} from \"../components/menu\";\r\n\r\nconst actionTypes={\r\n    REDUCE_HP: \"REDUCE_HP\",\r\n    LOAD_MAP: \"LOAD_MAP\",\r\n    CHANGE_SELECTED_BUTTON: \"LOAD_MAP\",\r\n    ADD_PICTURE_IN_TD: \"ADD_PICTURE_IN_TD\"\r\n};\r\n\r\n//----------------------------------------------\r\nexport const reduceHP = (i, j) => {\r\n    return {\r\n        type: actionTypes.REDUCE_HP,\r\n        payload: {\r\n            i:i,\r\n            j:j\r\n        }\r\n    }\r\n};\r\n\r\nexport const loadMap = (text) => {\r\n    let xmlDoc = null;\r\n    let outArr = [];\r\n\r\n    try {\r\n\r\n        if (window.DOMParser) {\r\n            // code for modern browsers\r\n            const parser = new DOMParser();\r\n            xmlDoc = parser.parseFromString(text,\"text/xml\");}\r\n        // else {\r\n        //     // code for old IE browsers\r\n        //     xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n        //     xmlDoc.async = false;\r\n        //     xmlDoc.loadXML(text);\r\n        // }\r\n\r\n        const map = xmlDoc.getElementsByTagName('map')[0];\r\n        const rows = map.getElementsByTagName('row');\r\n        for(let i = 0 ; i < rows.length; i++){\r\n            console.log(`i ${i}`);\r\n\r\n            let tiles = rows[i].getElementsByTagName('tile');\r\n            console.log(`tiles ${tiles}`);\r\n            const outArrRow =[];\r\n            for (let j = 0 ; j < tiles.length; j++){\r\n                let obj = null;\r\n                if (tiles[j].childNodes.length === 0)\r\n                {\r\n                    console.log('help');\r\n                    obj = getmapTile(tileNames.empty);\r\n                }\r\n                else {\r\n                    switch (tiles[j].childNodes[0].nodeValue) {\r\n                        case 'M':\r\n                            obj = getmapTile(tileNames.mountains);\r\n                            break;\r\n                        case 'S':\r\n                            obj = getmapTile(tileNames.swamp);\r\n                            break;\r\n                        case '3hp':\r\n                            obj = getmapTile(tileNames._3hp);\r\n                            break;\r\n                        case '2hp':\r\n                            obj = getmapTile(tileNames._2hp);\r\n                            break;\r\n                        case '1hp':\r\n                            console.log(`obj`);\r\n                            obj = getmapTile(tileNames._1hp);\r\n                            console.log(`obj`);\r\n                            break;\r\n                        default: {\r\n                            let tanks = tiles[j].getElementsByTagName('tank');\r\n                            if (tanks.length > 0) {\r\n                                let body = tanks[0].getAttribute('body');\r\n                                let head = tanks[0].getAttribute('head');\r\n                                //TODO\r\n                                obj = getmapTile(tileNames.tank);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (obj === null)\r\n                    throw new DOMException('object not found')\r\n\r\n                outArrRow.push(obj);\r\n            }\r\n            outArr.push(outArrRow);\r\n        }\r\n    }\r\n    catch (e) {\r\n        console.log(outArr);\r\n        alert('Ошибка файл карты неправильно сформирован')\r\n        outArr = null;\r\n    }\r\n\r\n    return {\r\n        type: actionTypes.LOAD_MAP,\r\n        payload: {\r\n            map: outArr\r\n        }\r\n    }\r\n};\r\n\r\n//----------------------------------------------\r\n\r\nexport const changeSelectedButton = (index, className) =>{\r\n    const state = null//storeCode.getState();\r\n    return{\r\n        type: actionTypes.CHANGE_SELECTED_BUTTON,\r\n        payload: {\r\n            gunnerSelectedIndex: className === \"gunner\" ? index : state.gunnerSelectedIndex,\r\n            driverSelectedIndex: className === \"driver\" ? index : state.driverSelectedIndex,\r\n            chargerSelectedIndex: className === \"charger\" ? index : state.chargerSelectedIndex\r\n        }\r\n    }\r\n}\r\n\r\nexport const addPictureInTD = (className , indexRow) => {\r\n    const state = null//storeCode.getState();\r\n    const rows = state.rows.slice();\r\n\r\n    rows[indexRow]={\r\n    gunner: className === \"gunner\" ? getGameButtonImage(\"gunner\", state.gunnerSelectedIndex ) : rows[indexRow].gunner,\r\n    driver: className === \"driver\" ? getGameButtonImage(\"driver\", state.driverSelectedIndex ) : rows[indexRow].driver,\r\n    charger: className === \"charger\" ? getGameButtonImage(\"charger\", state.chargerSelectedIndex ) : rows[indexRow].charger\r\n};\r\n\r\n    while (\r\n        rows[rows.length-1].gunner == null &&\r\n        rows[rows.length-1].driver == null &&\r\n        rows[rows.length-1].charger == null)\r\n    {\r\n        rows.pop();\r\n    }\r\n    rows.push([\r\n    {\r\n        gunner: null,\r\n        driver: null,\r\n        charger: null\r\n    }]);\r\n\r\n    return{\r\n        type: actionTypes.ADD_PICTURE_IN_TD,\r\n        payload: {\r\n            rows: rows\r\n        }\r\n    }\r\n};","import React, {Component} from \"react\";\r\nimport { connect, Provider } from 'react-redux'\r\nimport {putStateToProps_Map, putActionsToProps_Map} from '../store/reducers.js'\r\nimport '../styles/game.css';\r\nimport {storeMap} from '../store/stores.js'\r\n\r\n\r\nconst newMap = `<map>\r\n    <row>\r\n        <tile>1hp</tile>\r\n        <tile></tile>\r\n        <tile></tile>\r\n        <tile>3hp</tile>\r\n    </row>\r\n    <row>\r\n        <tile>M</tile>\r\n        <tile>S</tile>\r\n        <tile>S</tile>\r\n        <tile>M</tile>\r\n    </row>\r\n    <row>\r\n        <tile></tile>\r\n        <tile></tile>\r\n        <tile></tile>\r\n        <tile></tile>\r\n    </row>\r\n    <row>\r\n        <tile>\r\n            <tank body=\"45\" head=\"45\">\r\n            </tank>\r\n        </tile>\r\n        <tile></tile>\r\n        <tile></tile>\r\n        <tile></tile>\r\n    </row>\r\n</map>`;\r\n\r\nclass Map extends Component {\r\n    render() {\r\n        return (\r\n            <div id=\"mapCont\" className=\"overflow-visible\">\r\n                <Provider store={storeMap}>\r\n                    <WrappedMapTable />\r\n                </Provider>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MapTable extends Component {\r\n\r\n    renderTable(){\r\n        const {map, reduceHP} = this.props;\r\n\r\n        let rows = [];\r\n\r\n        for (let i = 0; i < map.length; i++){\r\n            let row = [];\r\n            for (let j = 0; j < map[i].length; j++) {\r\n                row.push(\r\n                    <MapTile key={`tile ${i}-${j}`} value={map[i][j]} onClick={() => reduceHP(i,j)} />\r\n                );\r\n            }\r\n            rows.push(\r\n                <div className=\"flex-row\">\r\n                    {row}\r\n                </div>\r\n            )\r\n        }\r\n\r\n\r\n        return rows;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div id=\"map\" style={{marginTop: 10, marginLeft: 10}}>\r\n                    <button onClick={()=>this.props.loadMap(newMap)}>Hello</button>\r\n                    {this.renderTable()}\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction MapTile(props) {\r\n    return(\r\n        <div className=\"mapTile\" style={props.value} onClickCapture={()=>props.onClick()}>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst WrappedMapTable = connect(putStateToProps_Map, putActionsToProps_Map)(MapTable);\r\n\r\n\r\nexport default Map","import React, {Component} from 'react';\nimport Map from './components/map.js'\nimport Menu from './components/menu.js'\nimport ReactDOM from 'react-dom';\nimport './styles/game.css';\nimport './styles/scroll.css';\nimport './images/game/карта.png';\n\n\nclass Game extends Component {\n    render() {\n        return (\n            <div >\n                <div id=\"snavigator\">Танковый Экипаж</div>\n                <div id=\"gridMain\" >\n                    <Map />\n                    <Menu />\n                </div>\n            </div>\n        )\n    }\n}\n\n// ========================================\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}