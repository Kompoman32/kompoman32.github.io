(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){},25:function(e,t,a){e.exports=a(44)},42:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/\u043a\u0430\u0440\u0442\u0430.a649f862.png"},44:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),i=a(6),c=a(5),o=a(7),l=a(0),s=a.n(l),u=a(1),d=a(22),g=a.n(d),h=a(8),m=a(2),p=a(24),f={CHANGE_SELECTED_BUTTON:"CHANGE_SELECTED_BUTTON",ADD_PICTURE_IN_TD:"ADD_PICTURE_IN_TD",REMOVE_PICTURE_IN_TD:"REMOVE_PICTURE_IN_TD"},v={REDUCE_HP:"REDUCE_HP",LOAD_MAP:"LOAD_MAP",ZOOM:"ZOOM"},b={RUN_ROW:"RUN_ROW",SELECT_ROW:"SELECT_ROW",ROTATE_TANK:"ROTATE_TANK",ROTATE_TURRET:"ROTATE_TURRET",MOVE_TANK:"MOVE_TANK",MOVE_TANK_ROTATE_AND_FORWARD:"MOVE_TANK_ROTATE_AND_FORWARD",LOAD:"LOAD",START:"START",STOP:"STOP",NEXT_MOVE:"NEXT_MOVE",FIRE:"FIRE"},S=v,k=f,E=b,O=function(e,t){return{type:f.CHANGE_SELECTED_BUTTON,payload:{index:e,className:t}}},T=function(e,t){return{type:f.ADD_PICTURE_IN_TD,payload:{className:e,indexRow:t}}},w=function(e,t){return{type:f.REMOVE_PICTURE_IN_TD,payload:{className:e,indexRow:t}}},y=function(e){return{type:b.SELECT_ROW,payload:e}},x=function(e,t){return{type:v.REDUCE_HP,payload:{i:e,j:t}}},j=function(e){return{type:v.LOAD_MAP,payload:e}},N=function(){return{type:v.ZOOM,payload:20}},R=function(){return{type:v.ZOOM,payload:-20}},_=function(e){return{type:b.ROTATE_TANK,payload:e}},D=function(e){return{type:b.ROTATE_TURRET,payload:e}},M=function(){return{type:b.MOVE_TANK,payload:!0}},A=function(){return{type:b.MOVE_TANK,payload:!1}},X=function(){return{type:b.MOVE_TANK_ROTATE_AND_FORWARD,payload:!0}},C=function(){return{type:b.MOVE_TANK_ROTATE_AND_FORWARD,payload:!1}},I=function(){return{type:b.LOAD}},P=function(){return{type:b.START}},Y=function(){return{type:b.STOP}},L=function(){return{type:b.NEXT_MOVE}},B=function(){return{type:v.LOAD_MAP,payload:""}},W=function(){return{type:b.FIRE}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.CHANGE_SELECTED_BUTTON:var a=t.payload,n=a.index,r=a.className;return"gunner"===r?Object(u.a)({},e,{gunnerSelectedIndex:n}):"driver"===r?Object(u.a)({},e,{driverSelectedIndex:n}):"charger"===r?Object(u.a)({},e,{chargerSelectedIndex:n}):e;case f.ADD_PICTURE_IN_TD:var i=e.rows.slice(),c=t.payload,o=c.indexRow,l=c.className;for(i[o]={gunner:"gunner"===l?$("gunner",e.gunnerSelectedIndex):i[o].gunner,driver:"driver"===l?$("driver",e.driverSelectedIndex):i[o].driver,charger:"charger"===l?$("charger",e.chargerSelectedIndex):i[o].charger};null!=i[i.length-1].gunner||null!=i[i.length-1].driver||null!=i[i.length-1].charger;)i.push({gunner:null,driver:null,charger:null});return Object(u.a)({},e,{rows:i});case f.REMOVE_PICTURE_IN_TD:var s=Object(p.a)(e.rows),d=t.payload,g=d.indexRow,h=d.className;for(s[g]={gunner:"gunner"===h?null:s[g].gunner,driver:"driver"===h?null:s[g].driver,charger:"charger"===h?null:s[g].charger};s.length>0&&null==s[s.length-1].gunner&&null==s[s.length-1].driver&&null==s[s.length-1].charger;)s.pop();return s.push({gunner:null,driver:null,charger:null}),Object(u.a)({},e,{rows:s})}return e},z=function(e){return{gunnerSelectedIndex:e.codeState.gunnerSelectedIndex,driverSelectedIndex:e.codeState.driverSelectedIndex,chargerSelectedIndex:e.codeState.chargerSelectedIndex,selectedRow:e.codeState.selectedRow,currentRow:e.codeState.currentRow,rows:e.codeState.rows}},H=function(e){return{changeSelectedButton:Object(m.a)(O,e),addPictureInTD:Object(m.a)(T,e),removePictureInTD:Object(m.a)(w,e),selectRow:Object(m.a)(y,e)}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.REDUCE_HP:var a=e.map.slice(),n=t.payload,r=n.i,i=n.j;switch(a[i][r][0].tile){case Z._3hp:return a[i][r][0]={tile:Z._2hp},Object(u.a)({},e,{map:a});case Z._2hp:return a[i][r][0]={tile:Z._1hp},Object(u.a)({},e,{map:a});case Z._1hp:return a[i][r]=[],Object(u.a)({},e,{map:a,targetCount:e.targetCount-1})}return e;case v.LOAD_MAP:var c=""===t.payload?e.initialMap:t.payload,o=null;try{if(window.DOMParser)o=(new DOMParser).parseFromString(c,"text/xml");else(o=new ActiveXObject("Microsoft.XMLDOM")).async=!1,o.loadXML(c);var l=0,s=o.getElementsByTagName("World")[0],d=Number(s.getAttribute("Width")),g=Number(s.getAttribute("Height")),h=Number(s.getAttribute("ShellDistance")),m=s.getElementsByTagName("Tank")[0],p=0;switch(m.getElementsByTagName("TurretStatus")[0].innerHTML){case"PartiallyLoaded":p=1;break;case"Ready":p=2}for(var f={X:Number(m.getAttribute("X")),Y:Number(m.getAttribute("Y")),TankDirection:ee(m.getElementsByTagName("TankDirection")[0].innerHTML),TurretDirection:ee(m.getElementsByTagName("TurretDirection")[0].innerHTML),TurretStatus:p},b=s.getElementsByTagName("Units")[0].children,S=[],k=0;k<g;k++){for(var E=[],O=0;O<d;O++)E.push([]);S.push(E)}for(var T=0;T<b.length;T++){var w=Number(b[T].getAttribute("X")),y=Number(b[T].getAttribute("Y")),x=b[T].getAttribute("XShift");x&&(x=Number(b[T].getAttribute("XShift")));var j=b[T].getAttribute("YShift");j&&(j=Number(b[T].getAttribute("YShift")));var N=Z.empty;switch(b[T].tagName){case"Swamp":N=Z.swamp;break;case"Rock":N=Z.mountains;break;case"LittleRock":N=Z.littleMountains;break;case"LittleSwamp":N=Z.littleSwamp;break;case"LittlePillbox":l+=1,N=Z._1hp;break;case"MediumPillbox":l+=1,N=Z._2hp;break;case"BigPillbox":l+=1,N=Z._3hp}S[y][w].push({XShift:x,YShift:j,tile:N})}return Object(u.a)({},e,{shellDistance:h,tank:f,mapWidth:d,mapHeight:g,map:S,mapTracers:[],initialMap:c,targetCount:l})}catch(_){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u0430\u0439\u043b \u043a\u0430\u0440\u0442\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d")}break;case v.ZOOM:var R=e.tileSize;return(R+=t.payload)<20&&(R=20),R>80&&(R=80),Object(u.a)({},e,{tileSize:R})}return e},U=function(e){var t=[0,0];switch(function(e){switch(e=te(e)){case 0:return Q.gunner.North;case 90:return Q.gunner.East;case 180:return Q.gunner.South;case-90:return Q.gunner.West;case-45:return Q.gunner.NorthWest;case 45:return Q.gunner.NorthEast;case-135:return Q.gunner.SouthWest;case 135:return Q.gunner.SouthEast}return"undefined"}(e)){case Q.driver.North:t=[0,-1];break;case Q.driver.NorthEast:t=[1,-1];break;case Q.driver.East:t=[1,0];break;case Q.driver.SouthEast:t=[1,1];break;case Q.driver.South:t=[0,1];break;case Q.driver.SouthWest:t=[-1,1];break;case Q.driver.West:t=[-1,0];break;case Q.driver.NorthWest:t=[-1,-1]}return t},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.SELECT_ROW:return Object(u.a)({},e,{codeState:Object(u.a)({},e.codeState,{selectedRow:t.payload})});case b.RUN_ROW:return e;case b.ROTATE_TURRET:var a=te(ee(t.payload)+e.mapState.tank.TurretDirection);if(e.mapState.tank)return Object(u.a)({},e,{mapState:Object(u.a)({},e.mapState,{tank:Object(u.a)({},e.mapState.tank,{TurretDirection:a})})});case b.ROTATE_TANK:var n=te(ee(t.payload)+e.mapState.tank.TankDirection),r=te(ee(t.payload)+e.mapState.tank.TurretDirection);if(e.mapState.tank)return Object(u.a)({},e,{mapState:Object(u.a)({},e.mapState,{tank:Object(u.a)({},e.mapState.tank,{TankDirection:n,TurretDirection:r})})});case b.MOVE_TANK:var i=e.mapState.tank;if(i){var c=U(i.TankDirection);return t.payload||(c[0]=-1*c[0],c[1]=-1*c[1]),Object(u.a)({},e,{mapState:Object(u.a)({},e.mapState,{tank:Object(u.a)({},e.mapState.tank,{X:i.X+c[0],Y:i.Y+c[1]})})})}case b.MOVE_TANK_ROTATE_AND_FORWARD:var o=e.mapState.tank;if(o){var l=te(o.TankDirection+(t.payload?-45:45)),s=te(o.TurretDirection+(t.payload?-45:45)),d=U(l);return Object(u.a)({},e,{mapState:Object(u.a)({},e.mapState,{tank:Object(u.a)({},e.mapState.tank,{X:o.X+d[0],Y:o.Y+d[1],TankDirection:l,TurretDirection:s})})})}case b.LOAD:if(e.mapState.tank){var g=e.mapState.tank.TurretStatus+1;return 3===g&&(g=0),Object(u.a)({},e,{mapState:Object(u.a)({},e.mapState,{tank:Object(u.a)({},e.mapState.tank,{TurretStatus:g})})})}case b.START:return Object(u.a)({},e,{codeState:Object(u.a)({},e.codeState,{isPlay:!0,currentRow:0}),mapState:Object(u.a)({},e.mapState,V(e.mapState,B()))});case b.STOP:return e.mapState.targetCount<=0?alert("\u0412\u0441\u0435 \u0446\u0435\u043b\u0438 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u044b. \u041f\u041e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e!!\n\u0411\u044b\u043b\u043e \u0437\u0430\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u043e ".concat(e.codeState.rows.length-1," \u0441\u0442\u0440\u043e\u043a")):alert("\u041d\u0435 \u0432\u0441\u0435 \u0446\u0435\u043b\u0438 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u044b :(("),Object(u.a)({},e,{codeState:Object(u.a)({},e.codeState,{isPlay:!1})});case b.NEXT_MOVE:if(e.codeState.isPlay){var h=e.codeState.currentRow+1;return Object(u.a)({},e,{codeState:Object(u.a)({},e.codeState,{currentRow:h})})}case b.FIRE:if(e.mapState.tank){console.log("FIRE from ".concat(e.mapState.tank.X,"-").concat(e.mapState.tank.Y));for(var m=e.mapState,p=m.map,f=m.tank,v=m.shellDistance,S=f.X,k=f.Y,E=U(f.TurretDirection),O=0;O<v&&(S+=E[0],k+=E[1],!(S>=e.mapState.mapWidth||S<0||k>=e.mapState.mapHeight||k<0));O++)if(e.mapState.mapTracers.push({tag:E[0]*E[1]===0?Z.trailVert:Z.trailDiag,X:S,Y:k,inverted:0===E[1]||E[0]*E[1]>0}),p[k][S].length>0){var T=p[k][S][0].tile;if(T===Z.mountains)break;if(T===Z._3hp||T===Z._2hp||T===Z._1hp){e=Object(u.a)({},e,{mapState:Object(u.a)({},e.mapState,V(e.mapState,x(S,k)))});break}for(var w=-1*E[0],y=-1*E[1],j=0;j<3;j++){var N=0;for(N=0;N<p[k][S].length;N++){var R=p[k][S][N];if(w===R.XShift&&y===R.YShift&&R.tile===Z.littleMountains)break}if(N!==p[k][S].length)break;w+=E[0],y+=E[1],e.mapState.mapTracers.push({tag:E[0]*E[1]===0?Z.littleTrailVert:Z.littleTrailDiag,X:S,Y:k,XShift:w,YShift:y,inverted:0===E[1]||E[0]*E[1]>0})}}return Object(u.a)({},e,{mapState:Object(u.a)({},e.mapState,{tank:Object(u.a)({},e.mapState.tank,{TurretStatus:0})})})}}return e},Z={mountains:"mountains",swamp:"swamp",littleMountains:"littleMountains",littleSwamp:"littleSwamp",trailVert:"trailVert",trailDiag:"trailDiag",littleTrailVert:"littleTrailVert",littleTrailDiag:"littleTrailDiag",tankBody:"tankBody",tankHead:"tankHead",_3hp:"3hp",_2hp:"2hp",_1hp:"1hp",empty:"empty"},G=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ie+""==="undefined")return{};var n=t||ie.getState().mapState.tileSize,r={};switch(e){case Z.mountains:case Z.littleMountains:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(n,"px 0px"),height:n,width:n};break;case Z.swamp:case Z.littleSwamp:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(2*n,"px 0px"),height:n,width:n};break;case Z.tankBody:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(3*n,"px 0px"),height:n,width:n};break;case Z.tankHead:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(4*n,"px 0px"),height:n,width:n};break;case Z._3hp:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"0px -".concat(n,"px"),height:n,width:n};break;case Z._2hp:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(n,"px -").concat(n,"px"),height:n,width:n};break;case Z._1hp:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(2*n,"px -").concat(n,"px"),height:n,width:n};break;case Z.trailVert:console.log(1),r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(3*n,"px -").concat(n,"px"),height:n,width:n};break;case Z.littleTrailVert:a=!0,r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(3*n,"px -").concat(n,"px"),height:n,width:n};break;case Z.trailDiag:r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(4*n,"px -").concat(n,"px"),height:n,width:n};break;case Z.littleTrailDiag:a=!0,r={tag:e,backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"-".concat(4*n,"px -").concat(n,"px"),height:n,width:n};break;default:r={tag:"empty",backgroundImage:"url('../images/game/gametiles.svg')",backgroundPosition:"0px 0px",height:n,width:n}}if(a){var i=r.backgroundPosition.split(" "),c=Number(i[0].slice(0,i[0].length-2))/3,o=Number(i[1].slice(0,i[1].length-2))/3;r=Object(u.a)({},r,{backgroundPosition:"".concat(Math.floor(c),"px ").concat(Math.floor(o),"px"),backgroundSize:"".concat(5*n/3+2,"px ").concat(5*n/3+2,"px"),height:r.height/3,width:r.width/3,border:"none"})}else r=Object(u.a)({},r,{backgroundSize:"".concat(5*n,"px ").concat(5*n,"px")});return r},J=8,q=11,Q={gunner:{North:"North",East:"East",South:"South",West:"West",NorthWest:"NorthWest",NorthEast:"NorthEast",SouthWest:"SouthWest",SouthEast:"SouthEast",Fire:"Fire"},driver:{North:"North",East:"East",South:"South",West:"West",NorthWest:"NorthWest",NorthEast:"NorthEast",SouthWest:"SouthWest",SouthEast:"SouthEast",MoveForward:"MoveForward",MoveBackward:"MoveBackward",TurnLeftAndMoveForward:"TurnLeftAndMoveForward",TurnRightAndMoveForward:"TurnRigthAndMoveForward",TurnLeftAndMoveBackward:"TurnLeftAndMoveBackward",TurnRightAndMoveBackward:"TurnRigthAndMoveBackward"},charger:{NotLoaded:0,PartiallyLoaded:1,Ready:2}};function $(e,t){return[{tag:Q.gunner.NorthEast,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"0px 0px",left:0,height:50,width:50},{tag:Q.gunner.East,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-50px 0px",left:0,height:50,width:50},{tag:Q.gunner.SouthEast,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-100px 0px",left:0,height:50,width:50},{tag:Q.gunner.NorthWest,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"0px -50px",left:0,height:50,width:50},{tag:Q.gunner.West,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-50px -50px",left:0,height:50,width:50},{tag:Q.gunner.SouthWest,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-100px -50px",left:0,height:50,width:50},{tag:Q.gunner.South,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"0px -100px",left:0,height:50,width:50},{tag:Q.gunner.Fire,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-100px -100px",left:0,height:50,width:50},{tag:Q.driver.NorthEast,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"0px -150px",left:0,height:50,width:50},{tag:Q.driver.East,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-50px -150px",left:0,height:50,width:50},{tag:Q.driver.SouthEast,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-100px -150px",left:0,height:50,width:50},{tag:Q.driver.NorthWest,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"0px -200px",left:0,height:50,width:50},{tag:Q.driver.West,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-50px -200px",left:0,height:50,width:50},{tag:Q.driver.SouthWest,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-100px -200px",left:0,height:50,width:50},{tag:Q.driver.South,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-50px -100px",left:0,height:50,width:50},{tag:Q.driver.MoveForward,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-150px 0px",left:0,height:50,width:50},{tag:Q.driver.MoveBackward,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-200px 0px",left:0,height:50,width:50},{tag:Q.driver.TurnRightAndMoveForward,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-150px -50px",left:0,height:50,width:50},{tag:Q.driver.TurnLeftAndMoveForward,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-200px -50px",left:0,height:50,width:50},{tag:Q.charger.PartiallyLoaded,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-150px -100px",left:0,height:50,width:50},{tag:Q.charger.Ready,backgroundImage:"url('../images/game/actionbtns.svg')",backgroundPosition:"-200px -100px",left:0,height:50,width:50}][t+("driver"===e?J:0)+("charger"===e?J+q:0)]}function ee(e){switch(e){case"North":return 0;case"East":return 90;case"South":return 180;case"West":return-90;case"NorthWest":return-45;case"NorthEast":return 45;case"SouthWest":return-135;case"SouthEast":return 135}return 0}function te(e){return e>180?e-360:e<-180?e+360:180===e||-180===e?180:e}var ae={gunnerSelectedIndex:0,driverSelectedIndex:0,chargerSelectedIndex:0,selectedRow:0,currentRow:0,rows:[{gunner:null,driver:null,charger:null}],isPlay:!1},ne={tileSize:40,initialMap:'<?xml version="1.0" encoding="utf-8"?>\n<World Height="10" Width="10" ShellDistance="8">\n  <Tank X="4" Y="4">\n    <TankDirection>North</TankDirection>\n    <TurretDirection>North</TurretDirection>\n    <TurretStatus>NotLoaded</TurretStatus>\n  </Tank>\n  <Units>\n    <LittlePillbox X="4" Y="2" />\n    <BigPillbox X="7" Y="1" />\n    <Rock X="5" Y="2" />\n    <LittleRock X="6" Y="2" XShift="-1" YShift="1" />\n    <LittleRock X="6" Y="2" XShift="0" YShift="0" />\n    <LittleRock X="6" Y="2" XShift="1" YShift="-1" />\n    <LittleRock X="7" Y="2" XShift="0" YShift="-1" />\n    <LittleRock X="7" Y="2" XShift="0" YShift="0" />\n    <LittleRock X="7" Y="2" XShift="0" YShift="1" />\n    <Swamp X="3" Y="3" />\n    <Swamp X="4" Y="3" />\n    <Swamp X="5" Y="3" />\n    <LittleSwamp X="6" Y="2" XShift="-1" YShift="0" />\n    <LittleSwamp X="6" Y="2" XShift="-1" YShift="-1" />\n    <LittleSwamp X="6" Y="2" XShift="0" YShift="-1" />\n    <LittleSwamp X="6" Y="2" XShift="1" YShift="0" />\n    <LittleSwamp X="6" Y="2" XShift="1" YShift="1" />\n    <LittleSwamp X="6" Y="2" XShift="0" YShift="1" />\n    <LittleSwamp X="7" Y="2" XShift="-1" YShift="0" />\n    <LittleSwamp X="7" Y="2" XShift="-1" YShift="-1" />\n    <LittleSwamp X="7" Y="2" XShift="-1" YShift="1" />\n    <LittleSwamp X="7" Y="2" XShift="1" YShift="-1" />\n    <LittleSwamp X="7" Y="2" XShift="1" YShift="0" />\n    <LittleSwamp X="7" Y="2" XShift="1" YShift="1" />\n    <LittleSwamp X="6" Y="3" XShift="-1" YShift="1" />\n    <LittleSwamp X="6" Y="3" XShift="0" YShift="0" />\n    <LittleSwamp X="6" Y="3" XShift="1" YShift="-1" />\n    <LittleSwamp X="6" Y="3" XShift="0" YShift="-1" />\n    <LittleSwamp X="6" Y="3" XShift="-1" YShift="-1" />\n    <LittleSwamp X="6" Y="3" XShift="-1" YShift="0" />\n    <LittleSwamp X="6" Y="3" XShift="1" YShift="0" />\n    <LittleSwamp X="7" Y="3" XShift="-1" YShift="-1" />\n    <LittleSwamp X="7" Y="3" XShift="0" YShift="-1" />\n  </Units>\n</World>',mapTracers:[],map:[],targetCount:0},re={codeState:ae,mapState:ne},ie=Object(m.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return S["".concat(t.type)]+""!=="undefined"?Object(u.a)({},e,{mapState:V(e.mapState,t)}):k["".concat(t.type)]+""!=="undefined"?Object(u.a)({},e,{codeState:F(e.codeState,t)}):E["".concat(t.type)]+""!=="undefined"?K(e,t):e},re),ce="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u0430\u043d\u043a (\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0430\u0443\u0437\u0443)",oe="\u0422\u0430\u043d\u043a \u0432\u044b\u0435\u0445\u0430\u043b \u0437\u0430 \u0433\u0440\u0430\u043d\u0438\u0446\u0443",le="\u0422\u0430\u043d\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0435\u0445\u0430\u0442\u044c \u043f\u043e \u0433\u043e\u0440\u0430\u043c",se="\u0422\u0430\u043d\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0435\u0445\u0430\u0442\u044c \u043f\u043e \u043b\u0435\u0441\u0430\u043c",ue="\u0422\u0430\u043d\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0435\u0445\u0430\u0442\u044c \u043f\u043e \u043c\u0438\u0448\u0435\u043d\u044f\u043c",de="\u0422\u0430\u043d\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0435\u0445\u0430\u0442\u044c \u043f\u043e \u044d\u0442\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0435",ge='\u041a\u043e\u043c\u0430\u043d\u0434\u0443 "\u0417\u0430\u0440\u044f\u0436\u0430\u0439 1" \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043e\u0440\u0443\u0434\u0438\u0435 \u043d\u0435 \u0437\u0430\u0440\u044f\u0436\u0435\u043d\u043e',he='\u041a\u043e\u043c\u0430\u043d\u0434\u0443 "\u0417\u0430\u0440\u044f\u0436\u0430\u0439 2" \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u0443\u0436\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 "\u0417\u0430\u0440\u044f\u0436\u0430\u0439 1"',me="\u041d\u0435\u043b\u044c\u0437\u044f \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c, \u043f\u043e\u043a\u0430 \u043e\u0440\u0443\u0434\u0438\u0435 \u043d\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0437\u0430\u0440\u044f\u0436\u0435\u043d\u043e",pe=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"menuDiv",className:"flex-column flex-align-end"},s.a.createElement(h.a,{store:ie},s.a.createElement(be,null)),s.a.createElement(we,null))}}]),t}(l.Component),fe=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handlePlay",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.isPlay?this.nextMove(this.props.currentRow)?(this.props.nextMove(),setTimeout(function(){e.props.isPlay&&e.handlePlay()},500)):(console.log("stop"),this.props.stop()):this.props.stop()}},{key:"nextMove",value:function(e){var t=this.props,a=t.tank,n=t.map,r=t.mapWidth,i=t.mapHeight,c=this.props.rows,o=e;if(o>=c.length-1)return!1;var l=c[o],s=l.gunner,u=l.driver,d=l.charger;if(null!==s){var g=s.tag;switch(g){case Q.gunner.North:case Q.gunner.NorthEast:case Q.gunner.East:case Q.gunner.SouthEast:case Q.gunner.South:case Q.gunner.SouthWest:case Q.gunner.West:case Q.gunner.NorthWest:this.props.rotateTurret(g);break;case Q.gunner.Fire:if(2!==a.TurretStatus)return alert(me+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1;this.props.fire()}}if(null!==u){var h=u.tag;switch(h){case Q.driver.North:case Q.driver.NorthEast:case Q.driver.East:case Q.driver.SouthEast:case Q.driver.South:case Q.driver.SouthWest:case Q.driver.West:case Q.driver.NorthWest:this.props.rotateTank(h);break;case Q.driver.MoveForward:case Q.driver.MoveBackward:if(o>0&&null!==c[o-1].driver&&(h===Q.driver.MoveForward&&c[o-1].driver.tag===Q.driver.MoveBackward||h===Q.driver.MoveBackward&&c[o-1].driver.tag===Q.driver.MoveForward))return alert(ce+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1;h===Q.driver.MoveForward?this.props.moveTankForward():this.props.moveTankBackward();var m=this.props.tank,p=m.X,f=m.Y;if(p<0||p>=r||f<0||f>=i)return alert(oe+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1;if(n[f][p].length>0){var v=de;switch(n[f][p][0].tile){case Z.swamp:v=se;break;case Z.mountains:v=le;break;case Z._3hp:case Z._2hp:case Z._1hp:v=ue}return alert(v+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1}break;case Q.driver.TurnLeftAndMoveForward:case Q.driver.TurnRightAndMoveForward:if(o>0&&null!==c[o-1].driver&&c[o-1].driver.tag===Q.driver.MoveBackward)return alert(ce+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1;h===Q.driver.TurnLeftAndMoveForward?this.props.moveTankRotateLeftAndForward():this.props.moveTankRotateRightAndForward();var b=this.props.tank,S=b.X,k=b.Y;if(S<0||S>=r||k<0||k>=i)return alert(oe+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1;if(n[k][S].length>0){var E=de;switch(n[k][S][0].tile){case Z.swamp:E=se;break;case Z.mountains:E=le;break;case Z._3hp:case Z._2hp:case Z._1hp:E=ue}return alert(E+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1}}}if(null!==d){switch(d.tag){case Q.charger.PartiallyLoaded:if(1===a.TurretStatus||2===a.TurretStatus&&s.tag!==Q.gunner.Fire)return alert(ge+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1;break;case Q.charger.Ready:if(a.TurretStatus>=2)return alert(he+"\n\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 (".concat(e+1,")")),!1}this.props.load()}return!0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"flex-row margin-5"},s.a.createElement("div",{className:"flex-column flex-justify-start widthAll"},s.a.createElement("div",{className:"flex-column"},s.a.createElement("span",null,"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f"),s.a.createElement("div",null),s.a.createElement(Te,null)),s.a.createElement("div",{id:"moveBtnDiv",className:"flex-row"},s.a.createElement("div",{className:"flex-row"},s.a.createElement(ve,{image:"images/menu/startbtn.svg",OnClick:function(){e.props.start(),setTimeout(function(){return e.handlePlay(!0)},500)}}),s.a.createElement(ve,{image:"images/menu/pausebtn.svg"}),s.a.createElement(ve,{image:"images/menu/stopbtn.svg",OnClick:function(){return e.props.stop()}}),s.a.createElement(ve,{image:"images/menu/skipbtn.svg"}),s.a.createElement(ve,{image:"images/menu/nextstepbtn.svg"})),s.a.createElement("div",{style:{width:50}}," "),s.a.createElement("div",{className:"flex-row"},s.a.createElement(ve,{image:"images/menu/savebtn.svg"}),s.a.createElement(ve,{image:"images/menu/loadbtn.svg"})),s.a.createElement(ve,{image:""})),s.a.createElement("div",{style:{textAlign:"right"}},s.a.createElement("span",null,"\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u044b: "),s.a.createElement("span",null,this.props.shellDistance)),s.a.createElement("div",{id:"saveBtnDiv"})),s.a.createElement("div",{className:"flex-column flex-justify-evenly"},s.a.createElement(Se,null),s.a.createElement(h.a,{store:ie},s.a.createElement(Oe,null))))}}]),t}(l.Component);function ve(e){var t=null;return e.OnClick||(t={background:"red"}),s.a.createElement("button",{style:t,onClick:function(){return e.OnClick()}},s.a.createElement("img",{src:e.image,alt:""}))}var be=Object(h.b)(function(e){return{selectedRow:e.codeState.selectedRow,currentRow:e.codeState.currentRow,rows:e.codeState.rows,shellDistance:e.mapState.shellDistance,tank:e.mapState.tank,mapWidth:e.mapState.width,mapHeight:e.mapState.height,map:e.mapState.map,isPlay:e.codeState.isPlay}},function(e){return{rotateTurret:Object(m.a)(D,e),rotateTank:Object(m.a)(_,e),moveTankForward:Object(m.a)(M,e),moveTankBackward:Object(m.a)(A,e),moveTankRotateLeftAndForward:Object(m.a)(X,e),moveTankRotateRightAndForward:Object(m.a)(C,e),load:Object(m.a)(I,e),selectRow:Object(m.a)(y,e),start:Object(m.a)(P,e),stop:Object(m.a)(Y,e),nextMove:Object(m.a)(L,e),restart:Object(m.a)(B,e),fire:Object(m.a)(W,e)}})(fe),Se=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={isOpen:!1},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("button",{id:"infoButton",className:"flex-row",onClick:function(){return e.setState({isOpen:!0})}},s.a.createElement("span",null,"INFO"),s.a.createElement("img",{src:"../images/menu/infobtn.svg",alt:""})),s.a.createElement(g.a,{isOpen:this.state.isOpen,onRequestClose:function(){return e.setState({isOpen:!1})}},s.a.createElement(ke,{onClick:function(){return e.handleClick()}})))}}]),t}(l.Component);function ke(e){return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return e.onClick()}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),"TBD")}var Ee=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"loadTank",value:function(){var e=this.props.tank;if(!e)return null;var t=Object(u.a)({},G(Z.tankBody,100,!1),{position:"absolute",zIndex:9998,left:0,top:0,transform:"rotate(".concat(e.TankDirection,"deg)")}),a=Object(u.a)({},G(Z.tankHead,100,!1),{position:"absolute",zIndex:9999,left:0,top:0,transform:"rotate(".concat(e.TurretDirection,"deg)")});return[s.a.createElement("div",{style:t}),s.a.createElement("div",{style:a})]}},{key:"render",value:function(){return s.a.createElement("div",{id:"tankDiv",style:{position:"relative",height:100,width:100}},this.loadTank())}}]),t}(l.Component),Oe=Object(h.b)(function(e){return{tank:e.mapState.tank}})(Ee),Te=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"50%")}}]),t}(l.Component),we=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"flex-row flex-align-start "},s.a.createElement("div",{id:"commandsDiv",className:"overflow overflow-y-visible margin-10"},s.a.createElement(h.a,{store:ie},s.a.createElement(xe,null))),s.a.createElement("div",null,s.a.createElement(h.a,{store:ie},s.a.createElement(_e,null))))}}]),t}(l.Component),ye=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"renderRows",value:function(){for(var e=this,t=[],a=this.props.rows,n=function(n){t.push(s.a.createElement(je,{selected:e.props.selectedRow==n,current:e.props.currentRow==n,index:n,value:a[n],OnRowClick:function(t){return e.props.selectRow(t)},onClickTD_LMB:function(t){return e.props.addPictureInTD(t,n)},onClickTD_RMB:function(t){return e.props.removePictureInTD(t,n)}}))},r=0;r<a.length;r++)n(r);return t}},{key:"render",value:function(){return s.a.createElement("table",{id:"commands"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"\u041d\u0430\u0432\u043e\u0434\u0447\u0438\u043a"),s.a.createElement("th",null,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),s.a.createElement("th",null,"\u0417\u0430\u0440\u044f\u0436\u0430\u044e\u0449\u0438\u0439")),this.renderRows()))}}]),t}(l.Component),xe=Object(h.b)(z,H)(ye),je=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("tr",{className:(this.props.selected?"selectedRow":"")+(this.props.current?" currentRow":""),onClick:function(){return e.props.OnRowClick(e.props.index)}},s.a.createElement("td",{style:{width:20}},this.props.index+1),s.a.createElement(Ne,{value:this.props.value.gunner,onClickTD_LMB:function(){return e.props.onClickTD_LMB("gunner")},onClickTD_RMB:function(){return e.props.onClickTD_RMB("gunner")}}),s.a.createElement(Ne,{value:this.props.value.driver,onClickTD_LMB:function(){return e.props.onClickTD_LMB("driver")},onClickTD_RMB:function(){return e.props.onClickTD_RMB("driver")}}),s.a.createElement(Ne,{value:this.props.value.charger,onClickTD_LMB:function(){return e.props.onClickTD_LMB("charger")},onClickTD_RMB:function(){return e.props.onClickTD_RMB("charger")}}))}}]),t}(l.Component);function Ne(e){return s.a.createElement("td",{className:"gameTD",onClick:function(){return e.onClickTD_LMB()},onContextMenu:function(t){t.preventDefault(),e.onClickTD_RMB()}},s.a.createElement("div",{className:"flex-column flex-justify-center"},s.a.createElement("div",{style:e.value})))}var Re=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"renderButtons",value:function(e){var t=[],a=this.props,n=a.gunnerSelectedIndex,r=a.driverSelectedIndex,i=a.chargerSelectedIndex,c=a.changeSelectedButton;switch(e){case"gunner":for(var o=function(a){t.push(s.a.createElement(De,{key:"".concat(e," - ").concat(a),index:a,class:e,selected:n===a,onClick:function(){return c(a,e)}}))},l=0;l<J;l++)o(l);break;case"driver":var u=function(a){t.push(s.a.createElement(De,{key:"".concat(e," - ").concat(a),index:a,class:e,selected:r===a,onClick:function(){return c(a,e)}}))};for(l=0;l<q;l++)u(l);break;case"charger":var d=function(a){t.push(s.a.createElement(De,{key:"".concat(e," - ").concat(a),index:a,class:e,selected:i===a,onClick:function(){return c(a,e)}}))};for(l=0;l<2;l++)d(l)}return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"flex-row flex-align-start overflow"},s.a.createElement("div",{className:"flex-column"},s.a.createElement("div",{style:{height:20},className:"padding-5"},"\u041d\u0430\u0432\u043e\u0434\u0447\u0438\u043a"),s.a.createElement("div",{className:"gameButtonsColumn flex-row flex-wrap"},this.renderButtons("gunner"))),s.a.createElement("div",{className:"flex-column"},s.a.createElement("div",{style:{height:20},className:"padding-5"},"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),s.a.createElement("div",{className:"gameButtonsColumn flex-row flex-wrap"},this.renderButtons("driver"))),s.a.createElement("div",{className:"flex-column"},s.a.createElement("div",{style:{height:20},className:"padding-5"},"\u0417\u0430\u0440\u044f\u0436\u0430\u044e\u0449\u0438\u0439"),s.a.createElement("div",{className:"gameButtonsColumn flex-row flex-wrap"},this.renderButtons("charger"))),s.a.createElement("div",{className:"flex-column"}))}}]),t}(l.Component),_e=Object(h.b)(z,H)(Re);function De(e){return s.a.createElement("button",{className:e.class+(e.selected?" selected":"")+" margin-1",style:$(e.class,e.index),onClick:e.onClick})}var Me=pe,Ae=(a(21),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"mapDiv"},s.a.createElement(h.a,{store:ie},s.a.createElement(Ie,null)))}}]),t}(l.Component)),Xe=function(e){function t(e){var a;return Object(n.a)(this,t),a=Object(i.a)(this,Object(c.a)(t).call(this,e)),e.loadMap(""),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"renderTable",value:function(){for(var e=this.props.tileSize,t=this.props,a=t.map,n=t.mapWidth,r=t.mapHeight,i=(t.reduceHP,[]),c=0;c<r;c++){for(var o=[],l=0;l<n;l++){if(a[c][l].length>0&&(a[c][l][0].tile===Z.littleMountains||a[c][l][0].tile===Z.littleSwamp)&&null!==a[c][l][0].XShift&&null!==a[c][l][0].YShift){for(var u=[[null,null,null],[null,null,null],[null,null,null]],d=0;d<a[c][l].length;d++)u[a[c][l][d].YShift+1][a[c][l][d].XShift+1]=s.a.createElement(Ce,{key:"tile ".concat(c," - ").concat(l,": ").concat(a[c][l][d].YShift+1," - ").concat(a[c][l][d].XShift+1),value:G(a[c][l][d].tile,this.props.tileSize,!0)});for(var g=0;g<9;g++)u[Math.floor(g/3)][g%3]||(u[Math.floor(g/3)][g%3]=s.a.createElement(Ce,{key:"tile ".concat(c," - ").concat(l,": ").concat(Math.floor(g/3)," - ").concat(g%3),value:G(Z.empty,this.props.tileSize,!0)}));for(var h=[],m=0;m<3;m++){for(var p=[],f=0;f<3;f++)p.push(u[m][f]);h.push(s.a.createElement("div",{className:"flex-row"},p))}o.push(s.a.createElement("div",{key:"div ".concat(c," - ").concat(l),className:"mapTile flex-column",style:{height:e,width:e}},h))}else for(var v=0;v<a[c][l].length;v++)o.push(s.a.createElement(Ce,{key:"tile ".concat(c," - ").concat(l),value:G(a[c][l][v].tile,this.props.tileSize)}));if(0===a[c][l].length){var b=G(Z.empty,this.props.tileSize);o.push(s.a.createElement(Ce,{key:"tile ".concat(c," - ").concat(l),value:b}))}}i.push(s.a.createElement("div",{className:"flex-row"},o))}return s.a.createElement("div",{className:"flex-column flex-align-start",style:{position:"relative"}},this.loadTank(),this.loadTrails(),i)}},{key:"loadTank",value:function(){var e=this.props.tileSize,t=this.props.tank;if(!t)return null;var a=Object(u.a)({},G(Z.tankBody,this.props.tileSize),{position:"absolute",zIndex:9998,left:t.X*(e+2),top:t.Y*(e+2),transform:"rotate(".concat(t.TankDirection,"deg)")}),n=Object(u.a)({},G(Z.tankHead,this.props.tileSize),{position:"absolute",zIndex:9999,left:t.X*(e+2),top:t.Y*(e+2),transform:"rotate(".concat(t.TurretDirection,"deg)")});return[s.a.createElement("div",{style:a}),s.a.createElement("div",{style:n})]}},{key:"loadTrails",value:function(){var e=this.props.tileSize,t=this.props.mapTracers;if(0===t.length)return null;for(var a=[],n=t.length,r=0;r<n;r++){var i=t[r].tag===Z.littleTrailDiag||t[r].tag===Z.littleTrailVert,c=t[r].X*(e*(i?3:1)+2)+(i?(e+2)*t[r].XShift:0),o=t[r].Y*(e*(i?3:1)+2)+(i?(e+2)*t[r].XShift:0),l=Object(u.a)({},G(t[r].tag,this.props.tileSize),{position:"absolute",zIndex:9996,left:c,top:o,transform:"rotate(".concat(t[r].inverted?90:0,"deg)")});a.push(s.a.createElement("div",{style:l}))}return a}},{key:"fileLoad",value:function(e){var t=e.target.files,a=new FileReader,n=this.props.loadMap;a.onload=function(e){n(e.target.result)},a.readAsText(t[0].slice())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"mapCont",className:"overflow-visible"},s.a.createElement("div",{style:{positon:"sticky",top:0}},s.a.createElement("div",{className:"flex-row"},s.a.createElement("input",{type:"file",onChange:function(t){return e.fileLoad(t)}}),s.a.createElement("button",{style:{width:20},onClick:function(){return e.props.zoomIn()}},"+"),s.a.createElement("button",{style:{width:20},onClick:function(){return e.props.zoomOut()}},"-"),s.a.createElement("div",null,this.props.tileSize," "))),this.renderTable())}}]),t}(l.Component);function Ce(e){var t={backgroundImage:e.value.backgroundImage,backgroundPosition:e.value.backgroundPosition,border:e.value.border,height:e.value.height,width:e.value.width,backgroundSize:e.value.backgroundSize};return s.a.createElement("div",{className:"mapTile",style:t,onClickCapture:function(){return e.onClick()}})}var Ie=Object(h.b)(function(e){return{shellDistance:e.mapState.shellDistance,tank:e.mapState.tank,mapWidth:e.mapState.mapWidth,mapHeight:e.mapState.mapHeight,map:e.mapState.map,mapTracers:e.mapState.mapTracers,tileSize:e.mapState.tileSize}},function(e){return{reduceHP:Object(m.a)(x,e),loadMap:Object(m.a)(j,e),zoomIn:Object(m.a)(N,e),zoomOut:Object(m.a)(R,e)}})(Xe),Pe=Ae,Ye=a(13),Le=a.n(Ye),Be=(a(42),a(43),function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},s.a.createElement("div",{id:"snavigator"},"\u0422\u0430\u043d\u043a\u043e\u0432\u044b\u0439 \u042d\u043a\u0438\u043f\u0430\u0436"),s.a.createElement("div",{id:"gridMain"},s.a.createElement(Pe,null),s.a.createElement(Me,null)))}}]),t}(l.Component));Le.a.render(s.a.createElement(Be,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.5c924bf7.chunk.js.map